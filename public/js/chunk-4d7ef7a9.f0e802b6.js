(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d7ef7a9"],{"075e":function(e,t,n){},"25af":function(e,t,n){"use strict";var r=n("b6cb"),a=n.n(r);a.a},"4ebd":function(e,t,n){"use strict";var r=n("cbf2"),a=n.n(r);a.a},"5c0d":function(e,t,n){"use strict";var r=n("afad"),a=n.n(r);a.a},9592:function(e,t,n){},"99b8":function(e,t,n){},a349:function(e,t,n){},adc6:function(e,t,n){},afad:function(e,t,n){},b6cb:function(e,t,n){},c16f:function(e,t,n){"use strict";var r=n("9592"),a=n.n(r);a.a},cbf2:function(e,t,n){},dde8:function(e,t,n){"use strict";var r=n("075e"),a=n.n(r);a.a},e1c5:function(e,t,n){"use strict";var r=n("adc6"),a=n.n(r);a.a},ea04:function(e,t,n){},ea11:function(e,t,n){"use strict";var r=n("ea04"),a=n.n(r);a.a},fa02:function(e,t,n){"use strict";var r=n("a349"),a=n.n(r);a.a},fe21:function(e,t,n){"use strict";var r=n("99b8"),a=n.n(r);a.a},ffcc:function(e,t,n){"use strict";var r=function(e,t){var n=t._c;return n("li",{staticClass:"checkout-product__item"},[n("figure",{staticClass:"checkout-pruduct__image"},[n("div",{staticClass:"checkout-product__image-container"},[n("v-lazy-image",{attrs:{src:t.props.product.thumbnail,alt:t.props.product.title}})],1),n("figcaption",{staticClass:"checkout-product__description"},[n("p",{staticClass:"checkout-product__title"},[t._v("\n        "+t._s(t.props.product.title)+"\n      ")]),n("footer",{staticClass:"checkout-product__footer"},[n("span",[t._v("\n          "+t._s(t.props.product.quantity)+"шт.\n        ")]),n("span",{staticClass:"body-text-14"},[t._v("\n          "+t._s(t._f("currency")(t.props.product.totalAmount))+"\n        ")])])])])])},a=[],o=n("2b0e"),c=n("a250"),u=o["a"].extend({name:"CheckoutProduct",filters:{currency:c["a"]},props:{product:{type:Object,required:!0}}}),i=u,s=(n("ea11"),n("2877")),l=Object(s["a"])(i,r,a,!0,null,"2353598b",null),d=l.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"checkout-form"},[n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid;return[n("div",{staticClass:"checkout-form__item"},[n("p",{staticClass:"checkout-page__title"},[e._v("\n        1.Контактні дані\n\n        "),!e.isCheckoutSuccess&&"info"!==e.$currentStep&&e.$completedSteps.info?n("br-button",{staticClass:"checkout-page__change-btn",attrs:{type:"text",disabled:!r},on:{click:function(t){return e.handleChange("info")}}},[e._v("\n          Змінити\n        ")]):e._e()],1),n("div",{staticClass:"checkout-form__body"},["info"===e.$currentStep?n("checkout-info",{on:{submit:function(t){return e.handleChange(t,"info")}}}):e._e(),"info"!==e.$currentStep&&e.$completedSteps.info?n("checkout-placeholder",{attrs:{slot:"placeholder",title:"Отримувач"},slot:"placeholder"},[n("p",[e._v(e._s(e.$infoModel.fullName))]),n("p",[e._v(e._s(e.$infoModel.email))]),n("p",[e._v(e._s(e.$infoModel.phoneNumber))])]):e._e()],1)]),n("div",{staticClass:"checkout-form__item"},[n("p",{staticClass:"checkout-page__title"},[e._v("\n        2.Спосіб доставки\n\n        "),!e.isCheckoutSuccess&&"delivery"!==e.$currentStep&&e.$completedSteps.delivery?n("br-button",{staticClass:"checkout-page__change-btn",attrs:{type:"text",disabled:!r},on:{click:function(t){return e.handleChange("delivery")}}},[e._v("\n          Змінити\n        ")]):e._e()],1),n("div",{staticClass:"checkout-form__body"},["delivery"===e.$currentStep?n("checkout-delivery",{on:{submit:function(t){return e.handleChange(t,"delivery")}}}):e._e(),"delivery"!==e.$currentStep&&e.$completedSteps.delivery?n("checkout-placeholder",{attrs:{slot:"placeholder",title:"courier"===e.$deliveryModel.deliveryType?"Кур'єр":"Нова пошта"},slot:"placeholder"},[n("p",[e._v(e._s(e.$infoModel.city))]),"post"===e.$deliveryModel.deliveryType?n("p",[e._v("\n            Точка видачі:\n            № "+e._s(e.$deliveryModel.postOfficeNumber)+"\n          ")]):e._e(),"courier"===e.$deliveryModel.deliveryType?n("p",[e._v("\n            Вулиця: "+e._s(e.$deliveryModel.street+", "+e.$deliveryModel.number)+"\n          ")]):e._e()]):e._e()],1)]),n("div",{staticClass:"checkout-form__item"},[n("p",{staticClass:"checkout-page__title"},[e._v("\n        3.Оплата\n\n        "),!e.isCheckoutSuccess&&"pay"!==e.$currentStep&&e.$completedSteps.pay?n("br-button",{staticClass:"checkout-page__change-btn",attrs:{type:"text",disabled:!r}},[e._v("\n          Змінити\n        ")]):e._e()],1),"pay"===e.$currentStep?n("div",{staticClass:"checkout-form__body"},[e.isCheckoutSuccess?n("div",{staticClass:"checkout-form__success-footer"},[n("checkout-placeholder",{attrs:{title:"CashPaymentType"===e.$payModel.type?"Готівка":"Картка"}},[n("p",[e._v("\n              Оплата "+e._s("CashPaymentType"===e.$payModel.type?"готівкою":"карткою")+"\n              "+e._s("courier"===e.$deliveryModel.deliveryType?"кур'єру":"при отриманні")+"\n            ")])]),n("br-button",{staticClass:"checkout-form__to-home-page",attrs:{type:"primary",to:{name:"HomePage"}}},[e._v("\n            На головну\n          ")])],1):n("checkout-pay")],1):e._e()])]}}])})],1)},f=[],v=n("9ab4"),y=n("7739"),_=n("afbc"),m=n("5334"),h=n("1bcf");function b(e){return{type:"DeliveryToAddressType",city:e.city,street:e.street,number:e.number,extraInfo:e.extraInfo}}function k(e){return{type:"NovaPoshtaDeliveryType",city:e.city,postOfficeNumber:e.postOfficeNumber}}function C(e){return{type:"CashPaymentType",amount:e.faceValue||"0"}}function $(){return{type:"LiqPayPaymentType"}}var g=Object(m["a"])("info"),S=Object(m["a"])("delivery"),O=Object(m["a"])("pay"),x=Object(m["a"])("stepsDomain"),M=Object(m["a"])("currentStepDomain");function j(e){var t=Object(y["b"])(e,{update:function(e,t){var n,r=t.key,a=t.value;return Object(v["a"])(Object(v["a"])({},e),(n={},n[r]=a,n))}}).update;return t}var P=g.store(new h["b"]),T=S.store(new h["a"]),q=O.store(new h["c"]),N=j(P),B=j(T),w=j(q),D=Object(y["e"])("confirmOrder"),I=Object(y["d"])("fxSendOrder",{handler:h["d"].sendOrder}),E=x.store({info:!1,delivery:!1,pay:!1}),L=M.store("info"),R=Object(y["b"])(L,{changedStep:function(e,t){return t}}).changedStep,V=Object(y["b"])(E,{completedStep:function(e,t){var n;return Object(v["a"])(Object(v["a"])({},e),(n={},n[t]=!0,n))}}).completedStep;Object(y["k"])({source:Object(y["a"])(P,T,q,(function(e,t,n){return Object(v["a"])(Object(v["a"])(Object(v["a"])({},e),t),n)})),clock:D,fn:function(e,t){var n,r,a="courier"===e.deliveryType?b(e):k(e),o="CashPaymentType"===e.type?C(e):$(),c=e.fullName,u=e.phoneNumber,i=e.email;return{fullname:c,phoneNumber:u,email:i,bucketId:t,deliveryType:(n={},n[a.type]=a,n),paymentType:(r={},r[o.type]=o,r)}},target:I}),I.done.watch((function(e){var t=e.result;return Object(v["b"])(void 0,void 0,void 0,(function(){var e,n,r,a,o;return Object(v["c"])(this,(function(c){switch(c.label){case 0:return e=t.liqpayDetailsUrl,n=t.paymentType,n.CashPaymentType?(_["a"].push({name:"CheckoutSuccessPage"}),[2]):[4,h["d"].initLiqpay(e)];case 1:return r=c.sent(),a=r.data,o=r.signature,_["a"].push({name:"PaymentRedirectPage",params:{data:a,signature:o}}),[2]}}))}))}));var A=n("845e"),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid;return[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("br-input",{staticClass:"checkout-form__textfield",attrs:{name:"name",value:e.$infoModel.fullName},on:{input:function(t){return e.updatedInfo({key:"fullName",value:t})}}},[e._v("\n      Ім'я та прізвище\n\n      "),r.length?n("template",{slot:"error"},[e._v("\n        Поле обов'язкове для заповнення\n      ")]):e._e()],2)]}}],null,!0)}),n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("br-input",{staticClass:"checkout-form__textfield",attrs:{name:"city",value:e.$infoModel.city},on:{input:function(t){return e.updatedInfo({key:"city",value:t})}}},[e._v("\n      Місто\n      "),r.length?n("template",{slot:"error"},[e._v("\n        Поле обов'язкове для заповнення\n      ")]):e._e()],2)]}}],null,!0)}),n("validation-provider",{attrs:{rules:"required|numeric"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("br-input",{staticClass:"checkout-form__textfield",attrs:{name:"phone",type:"tel",value:e.$infoModel.phoneNumber},on:{input:function(t){return e.updatedInfo({key:"phoneNumber",value:t})}}},[e._v("\n      Мобільний телефон\n      "),r.length?n("template",{slot:"error"},[e._v("\n        Поле має містити тільки цілі числа\n      ")]):e._e()],2)]}}],null,!0)}),n("validation-provider",{attrs:{rules:"required|email",name:"E-mail"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("br-input",{staticClass:"checkout-form__textfield",attrs:{name:"email",type:"email",value:e.$infoModel.email},on:{input:function(t){return e.updatedInfo({key:"email",value:t})}}},[e._v("\n      E-mail\n\n      "),r.length?n("template",{slot:"error"},[e._v("\n        Введіть валідний e-mail\n      ")]):e._e()],2)]}}],null,!0)}),n("br-button",{staticClass:"checkout-form__submit",attrs:{type:"primary",disabled:!r},on:{click:function(t){return e.$emit("submit","delivery")}}},[e._v("\n    Обрати спосіб доставки\n  ")])]}}])})},J=[],z=o["a"].extend({name:"CheckoutInfo",effector:function(){return{$infoModel:P}},components:{BrInput:A["g"],BrButton:A["b"]},methods:{updatedInfo:N}}),F=z,H=Object(s["a"])(F,G,J,!1,null,null,null),U=H.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid;return[n("br-radio-group",{attrs:{checked:e.$deliveryModel.deliveryType,"group-name":"delivery"},on:{change:e.changeDeliveryType}},[n("p",{staticClass:"body-text-16"},[e._v("\n      Доставка Львів\n    ")]),n("br-radio",{staticClass:"checkout-form__checkbox",attrs:{value:"post"}},[e._v("\n      Самовивіз із Нової пошти (50 грн.)\n    ")]),"post"===e.$deliveryModel.deliveryType?n("div",{staticClass:"checkout-form__fields checkout-form__fields--office-number"},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[n("br-input",{attrs:{value:e.$deliveryModel.postOfficeNumber},on:{input:function(t){return e.updatedDelivery({key:"postOfficeNumber",value:t})}}},[e._v("\n          Відділення №\n        ")])]}}],null,!0)})],1):e._e(),n("br-radio",{staticClass:"checkout-form__checkbox",attrs:{value:"courier"}},[e._v("\n      Кур'єр за Вашою адресою\n    ")]),"courier"===e.$deliveryModel.deliveryType?n("div",{staticClass:"checkout-form__fields checkout-form__fields--delivery"},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[n("br-input",{attrs:{value:e.$deliveryModel.street},on:{input:function(t){return e.updatedDelivery({key:"street",value:t})}}},[e._v("\n          Вулиця\n        ")])]}}],null,!0)}),n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[n("br-input",{attrs:{value:e.$deliveryModel.number},on:{input:function(t){return e.updatedDelivery({key:"number",value:t})}}},[e._v("\n          Дім №\n        ")])]}}],null,!0)})],1):e._e()],1),n("br-button",{staticClass:"checkout-form__submit",attrs:{type:"primary",disabled:!r},on:{click:function(t){return e.$emit("submit","pay")}}},[e._v("\n    Далі\n  ")])]}}])})},Q=[],W=o["a"].extend({name:"CheckoutDelivery",effector:function(){return{$deliveryModel:T}},components:{BrRadioGroup:A["k"],BrRadio:A["j"],BrButton:A["b"],BrInput:A["g"]},methods:{updatedDelivery:B,changeDeliveryType:function(e){this.updatedDelivery({key:"deliveryType",value:e})}}}),X=W,Y=(n("25af"),n("5c0d"),Object(s["a"])(X,K,Q,!1,null,"5b4a6838",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid;return[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[n("br-radio-group",{attrs:{checked:e.$payModel.type,"group-name":"pay"},on:{change:e.changePayType}},[n("div",[n("br-radio",{staticClass:"checkout-form__checkbox",attrs:{value:"CashPaymentType"}},[e._v("\n          Готівкою при отриманні\n        ")]),"CashPaymentType"===e.$payModel.type?n("div",{staticClass:"checkout-form__fields checkout-form__fields--cash"},[n("validation-provider",{attrs:{rules:"required|numeric"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[n("br-input",{attrs:{value:e.$payModel.faceValue,type:"number"},on:{input:function(t){return e.updatedPay({key:"faceValue",value:t})}}},[e._v("\n              Решта з:\n            ")])]}}],null,!0)})],1):e._e()],1),n("br-radio",{staticClass:"checkout-form__checkbox",attrs:{value:"LiqPayPaymentType"}},[e._v("\n        Карткою на сайті\n      ")])],1)]}}],null,!0)}),n("br-button",{staticClass:"checkout-form__submit",attrs:{type:"primary",disabled:!r,"is-loading":e.$isLoading},on:{click:e.handleSubmit}},[e._v("\n    "+e._s("CashPaymentType"===e.$payModel.type?"Підтвердити замовлення":"Перейти до оплати")+"\n  ")])]}}])})},te=[],ne=n("1d8d"),re=o["a"].extend({name:"CheckoutPay",effector:function(){return{$isLoading:I.pending,$cartContext:ne["a"],$payModel:q}},components:{BrRadioGroup:A["k"],BrRadio:A["j"],BrButton:A["b"],BrInput:A["g"]},data:function(){return{$cartContext:{}}},methods:{updatedPay:w,confirmOrder:D,fxSendOrder:I,changePayType:function(e){this.updatedPay({key:"type",value:e})},handleSubmit:function(){this.$cartContext&&this.confirmOrder(this.$cartContext.id)}}}),ae=re,oe=(n("e1c5"),Object(s["a"])(ae,ee,te,!1,null,"16de29f4",null)),ce=oe.exports,ue=function(e,t){var n=t._c;return n("div",{staticClass:"info-placeholder"},[n("span",{staticClass:"info-placeholder__title"},[t._v("\n    "+t._s(t.props.title)+"\n  ")]),n("span",{staticClass:"info-placeholder__content"},[t._t("default")],2)])},ie=[],se=o["a"].extend({name:"CheckoutPlaceholder",props:{title:{type:String,required:!0}}}),le=se,de=(n("fa02"),Object(s["a"])(le,ue,ie,!0,null,"7a6fa6b1",null)),pe=de.exports,fe=o["a"].extend({name:"CheckoutForm",effector:function(){return{$infoModel:P,$payModel:q,$deliveryModel:T,$currentStep:L,$completedSteps:E}},components:{BrButton:A["b"],CheckoutInfo:U,CheckoutPay:ce,CheckoutDelivery:Z,CheckoutPlaceholder:pe},computed:{isCheckoutSuccess:function(){return"CheckoutSuccessPage"===this.$route.name}},methods:{changedStep:R,completedStep:V,handleChange:function(e,t){t&&this.completedStep(t),this.changedStep(e)}}}),ve=fe,ye=(n("c16f"),n("fe21"),Object(s["a"])(ve,p,f,!1,null,"5df0bb0e",null)),_e=ye.exports,me=function(e,t){var n=t._c;return n("div",{staticClass:"checkout-success"},[n("p",{staticClass:"checkout-success__title"},[t._v("\n    Дякуємо Вам, "+t._s(t.props.fullName)+"\n  ")]),n("p",{staticClass:"body-text-14"},[t._v("\n    Ми зателефонуємо Вам у найближчий час 🙂\n  ")])])},he=[],be=o["a"].extend({name:"CheckoutSuccess",props:{fullName:{type:String,required:!0}}}),ke=be,Ce=(n("4ebd"),Object(s["a"])(ke,me,he,!0,null,"7a48c5f4",null)),$e=Ce.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"form",attrs:{method:"POST",action:"https://www.liqpay.ua/api/3/checkout","accept-charset":"utf-8"}},[n("input",{attrs:{type:"hidden",name:"data"},domProps:{value:e.data}}),n("input",{attrs:{type:"hidden",name:"signature"},domProps:{value:e.signature}}),n("input",{ref:"btn",attrs:{type:"image",src:"//static.liqpay.ua/buttons/p1ru.radius.png"}})])},Se=[],Oe=o["a"].extend({name:"Liqpay",props:{data:{type:String,required:!0},signature:{type:String,required:!0}},mounted:function(){var e=this.$refs.btn;e.click()}}),xe=Oe,Me=(n("dde8"),Object(s["a"])(xe,ge,Se,!1,null,"5bc03d46",null)),je=Me.exports;n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return _e})),n.d(t,"d",(function(){return $e})),n.d(t,"e",(function(){return je})),n.d(t,"a",(function(){return P}))}}]);
//# sourceMappingURL=chunk-4d7ef7a9.f0e802b6.js.map